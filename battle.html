<html><body><h2>战斗开始</h2><p>你的HP: <span id='playerHP'>100</span></p><p>敌人HP: <span id='enemyHP'>60</span></p><p id='weaponDisplay'></p><p id='petDisplay'></p><button onclick='attack()'>攻击</button><button id='skillBtn' onclick='useSkill()'>猛击</button><div id='log'></div><script>let hp=100,ehp=60,cd=0;const wm={'铁剑':10,'烈焰斧':15,'猎弓':8},pm={'哈士奇':5,'猫咪':0,'小野狼':7};const w=localStorage.getItem('当前武器')||'铁剑',p=localStorage.getItem('当前宠物')||'哈士奇';document.getElementById('weaponDisplay').innerText='装备：'+w+'（+'+wm[w]+'）';document.getElementById('petDisplay').innerText='宠物：'+p;function update(){document.getElementById('playerHP').innerText=hp;document.getElementById('enemyHP').innerText=ehp;const b=document.getElementById('skillBtn');b.disabled=cd>0;b.innerText=cd>0?'技能冷却中('+cd+')':'猛击';}function attack(base=wm[w],mul=1){if(hp<=0||ehp<=0)return;const dmg=Math.floor((Math.random()*5+base)*mul),pdmg=p==='小野狼'?(Math.random()<0.5?pm[p]:0):pm[p];ehp-=dmg+pdmg;if(ehp<0)ehp=0;const edmg=Math.floor(Math.random()*8+5);hp-=edmg;if(hp<0)hp=0;if(ehp===0){let g=parseInt(localStorage.getItem('金币')||0)+5;localStorage.setItem('金币',g);log.innerText='你胜利了！获得金币5。';}else if(hp===0){log.innerText='你失败了';}else{log.innerText=`你造成${dmg}，宠物${pdmg}，敌人造成${edmg}`;}if(cd>0)cd--;update();}function useSkill(){if(cd===0){cd=3;attack(wm[w],1.5);}}update();</script></body></html>