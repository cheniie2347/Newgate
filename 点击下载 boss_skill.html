<html><head><meta charset="utf-8"><style>
body{background:#000;color:#fff;font-family:monospace;text-align:center;padding:30px}
button{padding:10px;margin:5px}
.bar{height:20px;background:#444;margin:5px auto;width:80%;text-align:left}
.hp{background:#c33;height:100%;color:#fff;padding-left:5px}
</style></head><body>
<h2>ğŸ‘¹ Boss æˆ˜ï¼šåœ°ç‹±é‡çŒªï¼ˆæŠ€èƒ½ç‰ˆï¼‰</h2>
<div>ğŸ¯ Boss HP</div>
<div class="bar"><div id="bossHp" class="hp" style="width:100%">100 / 100</div></div>
<div>ğŸ§ ç©å®¶ HP</div>
<div class="bar"><div id="playerHp" class="hp" style="width:100%">100 / 100</div></div>
<div>å® ç‰©æ”»å‡»ï¼šæ¯å›åˆ 5 ç‚¹</div><br>
<button onclick="attack()">æ™®é€šæ”»å‡»</button>
<button onclick="skill()">çŒ›å‡»ï¼ˆ1.5xï¼‰</button>
<button onclick="shield()">æŠ¤ç›¾æœ¯ï¼ˆå‡ä¼¤50%ï¼‰</button>
<button onclick="heal()">å›å¤æœ¯ï¼ˆ+20HPï¼‰</button>
<button onclick="stun()">çœ©æ™•æ–©å‡»ï¼ˆ50% çœ©æ™•ï¼‰</button>
<div id="log" style="white-space:pre-line;margin-top:20px"></div>
<script>
let boss = {hp:100, max:100, skillCd:3};
let player = {hp:100, max:100, atk:10, skillCd:0, shieldCd:0, healCd:0, stunCd:0, shield:false};
let bossStunned = false;

function updateBar(){
 document.getElementById("bossHp").style.width = (boss.hp/boss.max*100)+"%";
 document.getElementById("bossHp").innerText = boss.hp+" / "+boss.max;
 document.getElementById("playerHp").style.width = (player.hp/player.max*100)+"%";
 document.getElementById("playerHp").innerText = player.hp+" / "+player.max;
}
function log(msg){
 document.getElementById("log").innerText = msg + "\n" + document.getElementById("log").innerText;
}
function endGame(win){
 if(win){
   let coin = parseInt(localStorage.getItem("é‡‘å¸")||0);
   coin += 10;
   localStorage.setItem("é‡‘å¸", coin);
   log("âœ… æˆ˜æ–—èƒœåˆ©ï¼æ‰è½é‡‘å¸ +10");
 } else {
   log("âŒ ä½ è¢«å‡»è´¥äº†...");
 }
 document.querySelectorAll("button").forEach(b=>b.disabled=true);
}
function attack(){
 boss.hp -= player.atk;
 log("ä½ å¯¹Bossé€ æˆ "+player.atk+" ç‚¹ä¼¤å®³");
 turn();
}
function skill(){
 if(player.skillCd > 0){ log("çŒ›å‡»å†·å´ä¸­"); return; }
 let dmg = Math.floor(player.atk * 1.5);
 boss.hp -= dmg;
 player.skillCd = 3;
 log("ä½¿ç”¨çŒ›å‡»ï¼Œé€ æˆ "+dmg+" ç‚¹ä¼¤å®³");
 turn();
}
function shield(){
 if(player.shieldCd > 0){ log("æŠ¤ç›¾å†·å´ä¸­"); return; }
 player.shield = true;
 player.shieldCd = 3;
 log("ä½ é‡Šæ”¾äº†æŠ¤ç›¾æœ¯ï¼Œæœ¬å›åˆå—åˆ°ä¼¤å®³å‡åŠ");
 turn();
}
function heal(){
 if(player.healCd > 0){ log("å›å¤æœ¯å†·å´ä¸­"); return; }
 player.hp += 20;
 if(player.hp > player.max) player.hp = player.max;
 player.healCd = 3;
 log("ä½ é‡Šæ”¾äº†å›å¤æœ¯ï¼Œæ¢å¤ 20 HP");
 turn();
}
function stun(){
 if(player.stunCd > 0){ log("çœ©æ™•æ–©å‡»å†·å´ä¸­"); return; }
 let dmg = 8;
 boss.hp -= dmg;
 let stunned = Math.random() < 0.5;
 bossStunned = stunned;
 player.stunCd = 4;
 log("ä½ ä½¿ç”¨çœ©æ™•æ–©å‡»ï¼Œé€ æˆ 8 ç‚¹ä¼¤å®³"+(stunned?"ï¼ŒBoss çœ©æ™•ï¼":"ï¼Œæœªçœ©æ™•"));
 turn();
}
function turn(){
 boss.hp -= 5; log("ğŸ¾ å® ç‰©é€ æˆ 5 ç‚¹ä¼¤å®³");
 if(boss.hp <= 0){ boss.hp = 0; updateBar(); endGame(true); return; }

 // Boss è¡ŒåŠ¨
 if(bossStunned){
   log("Boss è¢«çœ©æ™•ï¼Œè·³è¿‡å›åˆï¼");
   bossStunned = false;
 } else {
   let dmg = 10;
   if(boss.skillCd <= 1){
     dmg = 20; boss.skillCd = 3;
     log("ğŸ’¥ Boss ä½¿ç”¨æŠ€èƒ½é€ æˆ 20 ç‚¹ä¼¤å®³");
   } else {
     boss.skillCd--;
     log("Boss æ™®é€šæ”»å‡»é€ æˆ 10 ç‚¹ä¼¤å®³");
   }
   if(player.shield){ dmg = Math.floor(dmg/2); player.shield = false; }
   player.hp -= dmg;
   if(player.hp <= 0){ player.hp = 0; updateBar(); endGame(false); return; }
 }

 if(player.skillCd>0) player.skillCd--;
 if(player.shieldCd>0) player.shieldCd--;
 if(player.healCd>0) player.healCd--;
 if(player.stunCd>0) player.stunCd--;

 updateBar();
}
updateBar();
</script></body></html>